name: string_edge_cases
version: 0.1.0
type: core
lifecycle_state: pre-release
breaking_changes_policy: encouraged

description: |
  Complete String.prototype edge case handling for ES2024 Wave D.
  Handles surrogate pairs, Unicode code points, string iteration,
  and Unicode property escapes.

dependencies:
  imports:
    - name: regex
      version: ">=2023.0.0"
      import_from: "regex"
      uses:
        - compile
        - findall
      description: "Unicode property escape support"

requirements:
  - id: FR-ES24-D-006
    description: String.prototype methods with surrogate pairs
    status: implemented
    test_coverage: 100%
  - id: FR-ES24-D-007
    description: String.prototype.at() edge cases
    status: implemented
    test_coverage: 100%
  - id: FR-ES24-D-008
    description: String iterator edge cases
    status: implemented
    test_coverage: 100%
  - id: FR-ES24-D-009
    description: Unicode property escapes in RegExp
    status: implemented
    test_coverage: 100%

api:
  public:
    - name: StringEdgeCases.at
      signature: "at(string: str, index: int) -> Dict[str, Optional[Any]]"
      description: "Get character at index (supports negative indices)"
    - name: StringEdgeCases.code_point_at
      signature: "code_point_at(string: str, index: int) -> Dict[str, Any]"
      description: "Get Unicode code point at index"
    - name: StringEdgeCases.iterate_code_points
      signature: "iterate_code_points(string: str) -> Dict[str, Any]"
      description: "Iterate over string as Unicode code points"
    - name: StringEdgeCases.match_unicode_property
      signature: "match_unicode_property(text: str, property: str) -> Dict[str, Any]"
      description: "Match text against Unicode property escape"

quality:
  test_count: 53
  test_pass_rate: 100%
  code_coverage: 95%
  tdd_compliance: true
  performance_targets_met: true

performance:
  at: "<100µs (ASCII), <200µs (emoji)"
  code_point_at: "<500µs"
  iterate_code_points: "<50µs per iteration"
  match_unicode_property: "<500µs"

contract: /home/user/Corten-JavascriptRuntime/contracts/string_edge_cases.yaml
